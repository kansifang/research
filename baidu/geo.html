<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<script language="javascript">
//var ax = ["=", ".", "-", "*"];
var bU = 1 << 23;
var aK = 2;

function U(cP) {
	//根据首位字符确定坐标类型
	var cO = am(cP.charAt(0));
	// 获取除首位字符外地字符
	var string = cP.substr(1);
	var len = string.length;
	var cS = [];
	var cM = [];
	var cN = [];
	
	var i = 0;
	while (i < len) {
		if (string.charAt(i) == '=') {
			if ((len - i) < 13) {
				return 0
			}
			cN = cy(string.substr(i, 13), cS);
			if (cN < 0) {
				return 0
			}
			i += 13
		} else if (string.charAt(i) == ";") {
			cM.push(cS.slice(0));
			cS.length = 0;
			++i
		} else {
			if ((len - i) < 8) {
				return 0
			}
			cN = aQ(string.substr(i, 8), cS);
			if (cN < 0) {
				return 0
			}
			i += 8
		}
	}
	for (var j = 0; j < cM.length; j++) {
		for (var k = 0; k < cM[j].length; k++) {
			cM[j][k] /= 100
		}
	}
	return {
		geoType: cO,
		geo: cM
	}
}
function am(cI) {
	var T = -1;
	if (cI == '.') {
		T = 2
	} else {
		if (cI == '-') {
			T = 1
		} else {
			if (cI == '*') {
				T = 0
			}
		}
	}
	return T
}
function cy(cK, cI) {
	var T = 0;
	var cM = 0;
	var cL = 0;
	for (var i = 0; i < 6; i++) {
		cL = aa(cK.substr(1 + i, 1));
		if (cL < 0) {
			return -1 - i
		}
		T += cL << (6 * i);
		cL = aa(cK.substr(7 + i, 1));
		if (cL < 0) {
			return -7 - i
		}
		cM += cL << (6 * i)
	}
	cI.push(T);
	cI.push(cM);
	return 0
}
function aQ(cL, cJ) {
	var cI = cJ.length;
	if (cI < 2) {
		return -1
	}
	var T = 0;
	var cN = 0;
	var cM = 0;
	for (var i = 0; i < 4; i++) {
		cM = aa(cL.substr(i, 1));
		if (cM < 0) {
			return -1 - i
		}
		T += cM << (6 * i);
		cM = aa(cL.substr(4 + i, 1));
		if (cM < 0) {
			return -5 - i
		}
		cN += cM << (6 * i)
	}
	if (T > bU) {
		T = bU - T
	}
	if (cN > bU) {
		cN = bU - cN
	}
	cJ.push(cJ[cI - 2] + T);
	cJ.push(cJ[cI - 1] + cN);
	return 0
}
function aa(cI) {
	var T = cI.charCodeAt(0);
	if (cI >= "A" && cI <= "Z") {
		return T - "A".charCodeAt(0)
	} else {
		if (cI >= "a" && cI <= "z") {
			return (26 + T - "a".charCodeAt(0))
		} else {
			if (cI >= "0" && cI <= "9") {
				return (52 + T - "0".charCodeAt(0))
			} else {
				if (cI == "+") {
					return 62
				} else {
					if (cI == "/") {
						return 63
					}
				}
			}
		}
	}
	return -1
}
</script>
</head>

<body>

<script language="javascript">
console.log(U('.=pjDMNBYJHzcA;'));
console.log(U('.=X1/LNBZUkzcA;'));
</script>
</body>
</html>
