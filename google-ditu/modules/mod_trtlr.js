GAddMessages({14048:"\\u5728\\u6b64\\u7f29\\u653e\\u7ea7\\u522b\\u770b\\u4e0d\\u5230\\u516c\\u4ea4\\u4fe1\\u606f\\u3002\\u8bf7\\u653e\\u5927\\u4ee5\\u67e5\\u770b\\u8be6\\u7ec6\\u516c\\u4ea4\\u4fe1\\u606f\\u3002",14025:"\\u5728\\u5730\\u56fe\\u4e0a\\u67e5\\u770b\\u60a8\\u6240\\u5904\\u57ce\\u5e02\\u7684\\u516c\\u5171\\u4ea4\\u901a\\u7f51\\u3002",12567:"\\u516c\\u4ea4\\u7ebf\\u8def"});\'use strict\';var TJ=function(a){a=a.D.layerFid;return a!=m?a:""}, UJ=function(a){return(a=a.D.transitSchedules)?new lf(a):vea};function VJ(a,b,c){this.map=a;this.U=c;this.L=b;this.Dq=this.Ci=m;this.N=this.eJ=n;this.j={};this.W=0;this.F=j;this.C=n} w=VJ.prototype;w.cR=function(){M(this.map,yb,this,this.xS);M(this.L,Ma,this,this.xS);this.xS()}; w.zB=s("N");w.RR=function(){var a=WJ(this,0)!=m;this.F=this.C?a:!a;this.Dq.uJ(!this.F)}; w.Uda=function(){var a=this.Dq.isEnabled();a!=this.C&&(this.C=a,this.RR(a))}; w.aS=function(a){var b=this.zB();this.N=a;a=this.zB();a!=b&&owa(this,a)}; w.xS=function(a){(!a||a==this.U)&&this.map.Oc()&&this.L.Mn(this.U,this.map.fb(),B(this.aS,this))}; var pwa=function(a,b,c){nn(function(){(!b||b.Gb())&&a()}, 100,c)}, owa=function(a,b,c){var d=Mp(a,"CoverageChange");pwa(B(function(){b&&!this.eJ?(this.Ci.sj(this.Dq),this.eJ=j):!b&&this.eJ&&(this.Ci.removeItem(this.Dq),this.eJ=n)}, a),d,c)}, qwa=function(a){var b=Mp(a,"Update");pwa(B(a.update,a),b)}; VJ.prototype.update=function(){var a=this.F?WJ(this,0)!=m:this.C;this.Dq&&a!=this.Dq.isEnabled()&&(this.C=a,this.Dq.Ad(a))}; VJ.prototype.$=function(){return XJ(this,0,0)}; var XJ=function(a,b,c,d){c=new YJ(a,a.W,b,c,d);++a.W;a.j[b]||(a.j[b]=[]);d=a.j[b];var e=GB(d,c,rwa);0>e&&jh(d,-(e+1),0,c);a.j[b][0]==c&&(1<a.j[b].length&&ZJ(a.j[b][1],n),ZJ(c,j),qwa(a));return c}, rwa=function(a,b){return a.priority()<b.priority()?1:a.priority()>b.priority()?-1:a.Ua<b.Ua?1:a.Ua==b.Ua?0:-1}, WJ=function(a,b){var c=a.j[b];return 0<E(c)?c[0]:m};function YJ(a,b,c,d,e){this.F=a;this.Ua=b;this.G=c;this.j=d;this.o=e;this.C=n} YJ.prototype.active=s("C");YJ.prototype.priority=s("j");var ZJ=function(a,b){a.C!=b&&(a.C=b,F(a,Xa,a))}; YJ.prototype.remove=function(){var a=this.F,b=this.G;WJ(a,b)==this?(a.j[b].shift(),ZJ(this,n),0<a.j[b].length&&ZJ(a.j[b][0],j),qwa(a)):$C(a.j[b],this)};function $J(a,b){VJ.call(this,a,b,"transit_l");this.I=this.J=m;this.G=n;this.Q=new aK(a,this);this.o=m;this.P=n;this.K=m} C($J,VJ);$J.prototype.O=function(a,b){return XJ(this,1,a,b)}; $J.prototype.zs=function(){if(!this.J){var a=new sk("transit:comp");this.J=this.map.ue("CompositedLayer").Rp(a,this.map,"r",W(12567));this.J.setParameter("vm","1")}return this.J}; var bK=function(a){a.I||(a.I=a.map.Lf(new sk("transit:prev")),a.I.Rn=j,a.I.setParameter("vm","1"));return a.I}, swa=function(a){if((WJ(a,1)!=m||WJ(a,2)!=m)&&!(a.F?WJ(a,0)!=m:a.C)){if(!a.G){a.G=j;var b=bK(a);b.setParameter("pm","1");a.map.Na(b)}}else a.G&&(a.G=n,b=bK(a),a.map.kb(b),b.setParameter("pm",m))}, cK=function(a,b,c){a.zs().setParameter(b,c);bK(a).setParameter(b,c)}; $J.prototype.update=function(){var a=WJ(this,1),b=WJ(this,2);a?cK(this,"af",a.o?a.o:m):cK(this,"af");b?(cK(this,"sr",b.o?b.o:m),a||cK(this,"fahu","1")):cK(this,"sr");swa(this);this.G||$J.ia.update.call(this)}; $J.prototype.RR=function(a){$J.ia.RR.call(this,a);swa(this)}; $J.prototype.cR=function(a){$J.ia.cR.call(this);M(this.map,Gb,this,function(a,b,c){twa(this,c)}); M(this.map,"markersloadproto",this,this.j1);twa(this);var b=a&&a.Qa();if(b){var c=Lx(b);this.j1(b,0,a.Tj(c))}}; $J.prototype.j6=function(a){var b=this.Q;M(a,Lb,b,b.I);M(a,Kb,b,b.C)}; var twa=function(a,b){var c=a.zB();a.P=10<=a.map.ba();var d=a.zB();d!=c&&owa(a,d,b)}; w=$J.prototype;w.aS=function(a){$J.ia.aS.call(this,a);this.K&&(bn(this.K,"hc-zi-on",a),bn(this.K,"hc-nocov-on",!a))}; w.zB=function(){return this.P&&$J.ia.zB.call(this)}; w.QZ=function(a){a.Ib()&&(M(a,wc,this,B(this.B1,this,a)),3==a.Cb()&&this.B1(a))}; w.B1=function(a){this.o&&(this.o.remove(),this.o=m);if(3==a.Cb()){for(var b=a.Ib(),b=b?b.Qa():m,c=n,d=m,e=0,f=b?hg(b.he()):0;e<f;e++){var h=ig(b.he(),e);if(6!=Yf(h)){if(c)return;c=j;d=h&&!QA(bg(h))?m:(d=TJ(UJ(bg(h))))?d:m}}d&&(this.o=XJ(this,2,1,d),Mm(a,xc,Ji(this,this.Gea,this.o)))}}; w.Gea=function(a){this.o==a&&(a.remove(),this.o=m)}; w.j1=function(a,b,c){b=this.Q;for(var d=0;d<hg(a.he());d++){var e=ig(a.he(),d);if(uwa(e)){var f=c[e.getId()];if(f){var h;h=b;var k=e,e=f,l=[],p={};p.id=LA(k);k=B(h.F,h,p,k);l.push(P(e,Lb,k));h=B(h.C,h,p);l.push(P(e,Kb,h));h=l;for(e=0;e<h.length;e++)zq(0,h[e],f)}}}}; w.A7=function(){return!!this.o}; w.openInfoWindowForFeatureById=function(a,b){bK(this).openInfoWindowForFeatureById(a,g,g,b)};function aK(a,b){this.H=a;this.G=b;this.j=this.o=m} var uwa=function(a){return!a||!ag(a)||!QA(bg(a))?n:!!TJ(UJ(bg(a)))}; aK.prototype.I=function(a,b){this.F(a,wB(b))}; aK.prototype.F=function(a,b){if(uwa(b)){var c=TJ(UJ(bg(b)));this.j&&(this.j.remove(),this.o=m);this.o=a.id;this.j=this.G.O(3,c)}}; aK.prototype.C=function(a){this.o==a.id&&(this.o=m,this.j&&(Mp(this),this.j.remove(),this.j=m))};V("trtlr",Zc,function(a,b){a.Cc().va(function(c){hp("lyctr",2)(function(d,e,f,h,k){e=c.X();var l=new $J(e,Fa.ra());e={};e.description=W(14025);f=R("DIV");h=R("DIV",f);h.innerHTML=W(14048);Q(h,"hc-zi");h=R("DIV",f);h.innerHTML=W(14051);Q(h,"hc-nocov");l.K=f;e.$U=f;e.Ss="mv-hc-transit";l.zs();k=new k(W(12567),"transit_comp",l.zs(),290,e);M(l.zs(),Xa,l,l.Uda);k.OH(10);l.Dq=k;l.Dq.uJ(!l.F);l.Ci=d;d.sj(k);d.removeItem(k);l.C=l.Dq.isEnabled();l.cR(c);a.If.va(function(a){a.wn(B(l.QZ,l));M(a,zc,l,l.QZ)}); b.set(l)})})}); V("trtlr");